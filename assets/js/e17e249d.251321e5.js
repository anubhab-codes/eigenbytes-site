"use strict";(globalThis.webpackChunkeigenbytes=globalThis.webpackChunkeigenbytes||[]).push([[1880],{1757(e,n,s){s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>o,default:()=>l,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"devops/Networking/networking-basics","title":"Networking Basics","description":"Switching, routing, and gateways (one idea at a time)","source":"@site/docs/engineering/devops/03-Networking/networking-basics.md","sourceDirName":"devops/03-Networking","slug":"/devops/Networking/networking-basics","permalink":"/engineering/devops/Networking/networking-basics","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Networking Basics","toc":{"max_depth":2}},"sidebar":"sidebar","previous":{"title":"DNS Basics","permalink":"/engineering/devops/Networking/dns"},"next":{"title":"What is Git?","permalink":"/engineering/devops/version control system/what-is-git"}}');var i=s(4848),r=s(8453);const a={title:"Networking Basics",toc:{max_depth:2}},o="Networking Basics",h={},d=[{value:"Switching, routing, and gateways (one idea at a time)",id:"switching-routing-and-gateways-one-idea-at-a-time",level:2},{value:"Switch (how two systems meet)",id:"switch-how-two-systems-meet",level:2},{value:"Network interface (how a system connects)",id:"network-interface-how-a-system-connects",level:2},{value:"IP address (identity on the network)",id:"ip-address-identity-on-the-network",level:2},{value:"System A",id:"system-a",level:3},{value:"System B",id:"system-b",level:3},{value:"Route (how Linux decides where to send packets)",id:"route-how-linux-decides-where-to-send-packets",level:2},{value:"Router (how networks talk to networks)",id:"router-how-networks-talk-to-networks",level:2},{value:"Gateway (how systems find the router)",id:"gateway-how-systems-find-the-router",level:2},{value:"Default gateway (door to everything else)",id:"default-gateway-door-to-everything-else",level:2},{value:"Linux as a router (packet forwarding)",id:"linux-as-a-router-packet-forwarding",level:2},{value:"Enabling forwarding (making Linux a router)",id:"enabling-forwarding-making-linux-a-router",level:2},{value:"What John understands now",id:"what-john-understands-now",level:2},{value:"Quick cheat sheet",id:"quick-cheat-sheet",level:2}];function c(e){const n={blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"networking-basics",children:"Networking Basics"})}),"\n",(0,i.jsx)(n.h2,{id:"switching-routing-and-gateways-one-idea-at-a-time",children:"Switching, routing, and gateways (one idea at a time)"}),"\n",(0,i.jsxs)(n.p,{children:["John now has multiple Linux systems.",(0,i.jsx)(n.br,{}),"\n","They all work individually, but real systems are useless unless they can talk to each other."]}),"\n",(0,i.jsxs)(n.p,{children:["This page explains ",(0,i.jsx)(n.strong,{children:"how communication works"}),", step by step, without skipping logic."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"switch-how-two-systems-meet",children:"Switch (how two systems meet)"}),"\n",(0,i.jsxs)(n.p,{children:["Two systems talk to each other by being part of the ",(0,i.jsx)(n.strong,{children:"same network"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"switch"})," creates that network between systems."]}),"\n",(0,i.jsx)(n.p,{children:"John connects:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"System A"}),"\n",(0,i.jsx)(n.li,{children:"System B"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"to the same switch."}),"\n",(0,i.jsxs)(n.p,{children:["At this point, the switch only knows ",(0,i.jsx)(n.strong,{children:"how to pass packets"}),", not ",(0,i.jsx)(n.strong,{children:"who is who"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"network-interface-how-a-system-connects",children:"Network interface (how a system connects)"}),"\n",(0,i.jsxs)(n.p,{children:["To connect to a switch, each system needs a ",(0,i.jsx)(n.strong,{children:"network interface"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"John checks available interfaces:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ip link\n"})}),"\n",(0,i.jsx)(n.p,{children:"He sees:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"eth0\n"})}),"\n",(0,i.jsx)(n.p,{children:"This interface represents the physical or virtual connection to the switch."}),"\n",(0,i.jsx)(n.p,{children:"No interface means no network connectivity."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"ip-address-identity-on-the-network",children:"IP address (identity on the network)"}),"\n",(0,i.jsxs)(n.p,{children:["A switch alone is not enough.\nEach system needs an ",(0,i.jsx)(n.strong,{children:"IP address"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"John chooses a network:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"192.168.1.0/24\n"})}),"\n",(0,i.jsx)(n.p,{children:"He assigns IPs."}),"\n",(0,i.jsx)(n.h3,{id:"system-a",children:"System A"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ip addr add 192.168.1.10/24 dev eth0\n"})}),"\n",(0,i.jsx)(n.h3,{id:"system-b",children:"System B"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ip addr add 192.168.1.11/24 dev eth0\n"})}),"\n",(0,i.jsx)(n.p,{children:"Now:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Both systems are on the same network"}),"\n",(0,i.jsx)(n.li,{children:"Each has a unique identity"}),"\n",(0,i.jsx)(n.li,{children:"They can talk to each other"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"route-how-linux-decides-where-to-send-packets",children:"Route (how Linux decides where to send packets)"}),"\n",(0,i.jsxs)(n.p,{children:["Linux does not guess.\nIt uses a ",(0,i.jsx)(n.strong,{children:"routing table"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"John checks it:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"route\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This shows the ",(0,i.jsx)(n.strong,{children:"kernel IP routing table"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Every outgoing packet is matched against this table to decide:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Where to send it"}),"\n",(0,i.jsx)(n.li,{children:"Through which interface"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"If no route matches, the packet is dropped."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"router-how-networks-talk-to-networks",children:"Router (how networks talk to networks)"}),"\n",(0,i.jsxs)(n.p,{children:["Now John has ",(0,i.jsx)(n.strong,{children:"two networks"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"192.168.1.0/24\n192.168.2.0/24\n"})}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"router"})," connects networks."]}),"\n",(0,i.jsx)(n.p,{children:"A router is simply a system that:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Has an IP in each network"}),"\n",(0,i.jsx)(n.li,{children:"Can forward packets between them"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Example router IPs:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"192.168.1.11"}),"\n",(0,i.jsx)(n.li,{children:"192.168.2.11"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"gateway-how-systems-find-the-router",children:"Gateway (how systems find the router)"}),"\n",(0,i.jsx)(n.p,{children:"The router is just another device.\nHow does a system know it should use it?"}),"\n",(0,i.jsxs)(n.p,{children:["That device becomes the ",(0,i.jsx)(n.strong,{children:"gateway"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"A gateway is:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The next hop for another network"}),"\n",(0,i.jsx)(n.li,{children:"The \u201cdoor\u201d out of the current network"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"John adds a route:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ip route add 192.168.2.0/24 via 192.168.1.11\n"})}),"\n",(0,i.jsx)(n.p,{children:"Meaning:"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\u201cTo reach 192.168.2.0, send packets to 192.168.1.11\u201d"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This must be added on every system that needs access to the other network."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"default-gateway-door-to-everything-else",children:"Default gateway (door to everything else)"}),"\n",(0,i.jsxs)(n.p,{children:["The internet has ",(0,i.jsx)(n.strong,{children:"too many networks"})," to define routes for each."]}),"\n",(0,i.jsxs)(n.p,{children:["So systems use a ",(0,i.jsx)(n.strong,{children:"default gateway"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Default means:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u201cIf no route matches, send traffic here\u201d"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"John adds:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ip route add default via 192.168.1.11\n"})}),"\n",(0,i.jsx)(n.p,{children:"Now:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Known networks use specific routes"}),"\n",(0,i.jsx)(n.li,{children:"All other traffic goes to the gateway"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This is how systems reach the internet."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"linux-as-a-router-packet-forwarding",children:"Linux as a router (packet forwarding)"}),"\n",(0,i.jsx)(n.p,{children:"John now wants his Linux system to act as a router."}),"\n",(0,i.jsxs)(n.p,{children:["By default, Linux ",(0,i.jsx)(n.strong,{children:"does not forward packets"})," between interfaces."]}),"\n",(0,i.jsx)(n.p,{children:"He checks:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cat /proc/sys/net/ipv4/ip_forward\n"})}),"\n",(0,i.jsx)(n.p,{children:"Output:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"0\n"})}),"\n",(0,i.jsx)(n.p,{children:"This means forwarding is disabled."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"enabling-forwarding-making-linux-a-router",children:"Enabling forwarding (making Linux a router)"}),"\n",(0,i.jsx)(n.p,{children:"John enables forwarding temporarily:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"echo 1 > /proc/sys/net/ipv4/ip_forward\n"})}),"\n",(0,i.jsx)(n.p,{children:"To make it permanent, he updates:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"/etc/sysctl.conf\n"})}),"\n",(0,i.jsx)(n.p,{children:"Adds:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"net.ipv4.ip_forward = 1\n"})}),"\n",(0,i.jsx)(n.p,{children:"Applies it:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sysctl -p\n"})}),"\n",(0,i.jsx)(n.p,{children:"Now Linux forwards packets between networks."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"what-john-understands-now",children:"What John understands now"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Switch connects systems in the same network"}),"\n",(0,i.jsx)(n.li,{children:"Interfaces connect systems to the switch"}),"\n",(0,i.jsx)(n.li,{children:"IP addresses identify systems"}),"\n",(0,i.jsx)(n.li,{children:"Routes decide where packets go"}),"\n",(0,i.jsx)(n.li,{children:"Gateways point to routers"}),"\n",(0,i.jsx)(n.li,{children:"Default gateway handles unknown networks"}),"\n",(0,i.jsx)(n.li,{children:"Linux can be a router, but only if forwarding is enabled"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Networking works because ",(0,i.jsx)(n.strong,{children:"everything is explicit"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"quick-cheat-sheet",children:"Quick cheat sheet"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Show interfaces\nip link\n\n# Assign IP\nip addr add <ip>/<mask> dev <iface>\n\n# Show routes\nroute\n\n# Add route\nip route add <network> via <gateway>\n\n# Add default gateway\nip route add default via <gateway>\n\n# Enable forwarding\necho 1 > /proc/sys/net/ipv4/ip_forward\n"})})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453(e,n,s){s.d(n,{R:()=>a,x:()=>o});var t=s(6540);const i={},r=t.createContext(i);function a(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);