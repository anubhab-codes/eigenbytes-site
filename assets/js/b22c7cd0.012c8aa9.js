"use strict";(globalThis.webpackChunkeigenbytes=globalThis.webpackChunkeigenbytes||[]).push([[6496],{8453(e,n,s){s.d(n,{R:()=>a,x:()=>c});var i=s(6540);const r={},l=i.createContext(r);function a(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(l.Provider,{value:n},e.children)}},8861(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"devops/docker/running-containers","title":"Running Containers","description":"This article is hands-on.","source":"@site/docs/engineering/devops/05-docker/2 - running-containers.md","sourceDirName":"devops/05-docker","slug":"/devops/docker/running-containers","permalink":"/engineering/devops/docker/running-containers","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Running Containers","toc":{"max_depth":2}},"sidebar":"sidebar","previous":{"title":"What is Docker?","permalink":"/engineering/devops/docker/docker-introduction"},"next":{"title":"Images, Layers, and Dockerfile","permalink":"/engineering/devops/docker/images-layers-and-dockerfile"}}');var r=s(4848),l=s(8453);const a={title:"Running Containers",toc:{max_depth:2}},c="Running Containers (Hands-on Basics)",d={},o=[{value:"Step 1: Confirm Docker works",id:"step-1-confirm-docker-works",level:2},{value:"Step 2: Pull an image",id:"step-2-pull-an-image",level:2},{value:"Step 3: Run a container",id:"step-3-run-a-container",level:2},{value:"Step 4: List running containers",id:"step-4-list-running-containers",level:2},{value:"Step 5: List all containers (including stopped)",id:"step-5-list-all-containers-including-stopped",level:2},{value:"Step 6: Run an interactive container",id:"step-6-run-an-interactive-container",level:2},{value:"Step 7: Run in detached mode",id:"step-7-run-in-detached-mode",level:2},{value:"Step 8: View logs",id:"step-8-view-logs",level:2},{value:"Step 9: Execute a command inside a running container",id:"step-9-execute-a-command-inside-a-running-container",level:2},{value:"Step 10: Stop and remove containers",id:"step-10-stop-and-remove-containers",level:2},{value:"Step 11: Clean up stopped containers (optional)",id:"step-11-clean-up-stopped-containers-optional",level:2},{value:"Step 12: Images on your machine",id:"step-12-images-on-your-machine",level:2},{value:"Quick mental model",id:"quick-mental-model",level:2}];function t(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"running-containers-hands-on-basics",children:"Running Containers (Hands-on Basics)"})}),"\n",(0,r.jsx)(n.p,{children:"This article is hands-on.\nYou will pull images and run containers.\nNo Dockerfile yet."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-1-confirm-docker-works",children:"Step 1: Confirm Docker works"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker version\n"})}),"\n",(0,r.jsx)(n.p,{children:"What you see:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Client section"}),"\n",(0,r.jsx)(n.li,{children:"Server section"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"If Server is missing, Docker Engine is not running."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-2-pull-an-image",children:"Step 2: Pull an image"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker pull hello-world\n"})}),"\n",(0,r.jsx)(n.p,{children:"What you see (sample):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"Using default tag: latest\nlatest: Pulling from library/hello-world\nDigest: sha256:...\nStatus: Downloaded newer image for hello-world:latest\n"})}),"\n",(0,r.jsx)(n.p,{children:"What this means:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Docker downloaded the image locally"}),"\n",(0,r.jsx)(n.li,{children:"Image is now available to run"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-3-run-a-container",children:"Step 3: Run a container"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker run hello-world\n"})}),"\n",(0,r.jsx)(n.p,{children:"What you see:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"a message printed by the container"}),"\n",(0,r.jsx)(n.li,{children:"then it exits"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Important:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A container is a process."}),"\n",(0,r.jsx)(n.li,{children:"This process finished, so the container stopped."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-4-list-running-containers",children:"Step 4: List running containers"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker ps\n"})}),"\n",(0,r.jsx)(n.p,{children:"What you see:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"probably nothing (hello-world already exited)"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-5-list-all-containers-including-stopped",children:"Step 5: List all containers (including stopped)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker ps -a\n"})}),"\n",(0,r.jsx)(n.p,{children:"What you see (sample):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:'CONTAINER ID   IMAGE         COMMAND    STATUS                     NAMES\na1b2c3d4e5f6   hello-world   "/hello"   Exited (0) 10 seconds ago   gifted_panini\n'})}),"\n",(0,r.jsx)(n.p,{children:"What this means:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The container exists (metadata)"}),"\n",(0,r.jsx)(n.li,{children:"It is not running"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-6-run-an-interactive-container",children:"Step 6: Run an interactive container"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker run -it alpine:latest sh\n"})}),"\n",(0,r.jsx)(n.p,{children:"What you see:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"you get a shell prompt inside the container"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Try:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"uname -a\ncat /etc/os-release\nls -la\n"})}),"\n",(0,r.jsx)(n.p,{children:"Exit:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"exit\n"})}),"\n",(0,r.jsx)(n.p,{children:"What happens:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"container stops when the main process ends"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-7-run-in-detached-mode",children:"Step 7: Run in detached mode"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker run -d --name web nginx:alpine\n"})}),"\n",(0,r.jsx)(n.p,{children:"What you see:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"a long container id"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Check it is running:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker ps\n"})}),"\n",(0,r.jsx)(n.p,{children:"Sample output:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"CONTAINER ID   IMAGE         STATUS          NAMES\n8f1c...        nginx:alpine  Up 10 seconds   web\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-8-view-logs",children:"Step 8: View logs"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker logs web\n"})}),"\n",(0,r.jsx)(n.p,{children:"What you see:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"nginx startup logs"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Logs come from stdout/stderr of the container process."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-9-execute-a-command-inside-a-running-container",children:"Step 9: Execute a command inside a running container"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker exec -it web sh\n"})}),"\n",(0,r.jsx)(n.p,{children:"Try:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"nginx -v\nls -la /usr/share/nginx/html\nexit\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-10-stop-and-remove-containers",children:"Step 10: Stop and remove containers"}),"\n",(0,r.jsx)(n.p,{children:"Stop:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker stop web\n"})}),"\n",(0,r.jsx)(n.p,{children:"Remove:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker rm web\n"})}),"\n",(0,r.jsx)(n.p,{children:"Verify:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker ps -a\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-11-clean-up-stopped-containers-optional",children:"Step 11: Clean up stopped containers (optional)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker container prune\n"})}),"\n",(0,r.jsx)(n.p,{children:"What you see:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"a list of removed containers"}),"\n",(0,r.jsx)(n.li,{children:"reclaimed space"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-12-images-on-your-machine",children:"Step 12: Images on your machine"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker images\n"})}),"\n",(0,r.jsx)(n.p,{children:"Sample output:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"REPOSITORY    TAG      IMAGE ID       SIZE\nnginx         alpine   123456789abc   20MB\nalpine        latest   987654321def   7MB\nhello-world   latest   111111111111   13kB\n"})}),"\n",(0,r.jsx)(n.p,{children:"Remove an image (only if no containers depend on it):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker rmi hello-world\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"quick-mental-model",children:"Quick mental model"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"docker pull"})," downloads an image"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"docker run"})," creates + starts a container"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"docker ps"})," shows running containers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"docker ps -a"})," shows all containers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"docker logs"})," shows output"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"docker exec"})," runs commands in a running container"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"docker stop"})," stops a container process"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"docker rm"})," removes container metadata"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}}}]);