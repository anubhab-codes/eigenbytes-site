"use strict";(globalThis.webpackChunkeigenbytes=globalThis.webpackChunkeigenbytes||[]).push([[2940],{6498(e,n,s){s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"devops/docker/volumes-and-data","title":"Containers Are Ephemeral: Volumes and Data","description":"The Problem: Data Loss","source":"@site/docs/engineering/devops/05-docker/4 - volumes-and-data.md","sourceDirName":"devops/05-docker","slug":"/devops/docker/volumes-and-data","permalink":"/engineering/devops/docker/volumes-and-data","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Containers Are Ephemeral: Volumes and Data","toc":{"max_depth":2}},"sidebar":"sidebar","previous":{"title":"Images, Layers, and Dockerfile","permalink":"/engineering/devops/docker/images-layers-and-dockerfile"},"next":{"title":"Docker Networking","permalink":"/engineering/devops/docker/docker-networking"}}');var a=s(4848),l=s(8453);const o={title:"Containers Are Ephemeral: Volumes and Data",toc:{max_depth:2}},i="Containers Are Ephemeral: Volumes and Data",t={},d=[{value:"The Problem: Data Loss",id:"the-problem-data-loss",level:2},{value:"Understanding Container Storage",id:"understanding-container-storage",level:2},{value:"Solution 1: Docker Volumes",id:"solution-1-docker-volumes",level:2},{value:"Creating a Volume",id:"creating-a-volume",level:3},{value:"Using a Volume",id:"using-a-volume",level:3},{value:"Solution 2: Bind Mounts",id:"solution-2-bind-mounts",level:2},{value:"Volumes vs Bind Mounts",id:"volumes-vs-bind-mounts",level:2},{value:"Real Example: Development Workflow",id:"real-example-development-workflow",level:2},{value:"Anonymous Volumes",id:"anonymous-volumes",level:2},{value:"Volume Management",id:"volume-management",level:2},{value:"Listing Volumes",id:"listing-volumes",level:3},{value:"Inspecting a Volume",id:"inspecting-a-volume",level:3},{value:"Removing a Volume",id:"removing-a-volume",level:3},{value:"Cleaning Up Unused Volumes",id:"cleaning-up-unused-volumes",level:3},{value:"Sharing Volumes Between Containers",id:"sharing-volumes-between-containers",level:2},{value:"Volume Drivers",id:"volume-drivers",level:2},{value:"Backup and Restore",id:"backup-and-restore",level:2},{value:"Backing Up a Volume",id:"backing-up-a-volume",level:3},{value:"Restoring a Volume",id:"restoring-a-volume",level:3},{value:"Read-Only Volumes",id:"read-only-volumes",level:2},{value:"tmpfs Mounts: Temporary Storage",id:"tmpfs-mounts-temporary-storage",level:2},{value:"Practical Patterns",id:"practical-patterns",level:2},{value:"Pattern 1: Database Persistence",id:"pattern-1-database-persistence",level:3},{value:"Pattern 2: Configuration Injection",id:"pattern-2-configuration-injection",level:3},{value:"Pattern 3: Log Collection",id:"pattern-3-log-collection",level:3},{value:"Pattern 4: Development Environment",id:"pattern-4-development-environment",level:3},{value:"Common Mistakes",id:"common-mistakes",level:2},{value:"Mistake 1: Not Using Volumes for Databases",id:"mistake-1-not-using-volumes-for-databases",level:3},{value:"Mistake 2: Using Absolute Paths in Bind Mounts",id:"mistake-2-using-absolute-paths-in-bind-mounts",level:3},{value:"Mistake 3: Forgetting to Clean Up Volumes",id:"mistake-3-forgetting-to-clean-up-volumes",level:3},{value:"Mistake 4: Overwriting Dependencies",id:"mistake-4-overwriting-dependencies",level:3},{value:"Debugging Volume Issues",id:"debugging-volume-issues",level:2},{value:"Check What&#39;s Mounted",id:"check-whats-mounted",level:3},{value:"Check Volume Contents",id:"check-volume-contents",level:3},{value:"Check Permissions",id:"check-permissions",level:3},{value:"Volume Performance Considerations",id:"volume-performance-considerations",level:2},{value:"Mental Notes",id:"mental-notes",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"containers-are-ephemeral-volumes-and-data",children:"Containers Are Ephemeral: Volumes and Data"})}),"\n",(0,a.jsx)(n.h2,{id:"the-problem-data-loss",children:"The Problem: Data Loss"}),"\n",(0,a.jsx)(n.p,{children:"Run a PostgreSQL container:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d --name my-db -e POSTGRES_PASSWORD=secret postgres\n"})}),"\n",(0,a.jsx)(n.p,{children:"Connect to it and create some data:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker exec -it my-db psql -U postgres\n"})}),"\n",(0,a.jsx)(n.p,{children:"Inside psql:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"CREATE DATABASE myapp;\n\\c myapp\nCREATE TABLE users (id SERIAL, name TEXT);\nINSERT INTO users (name) VALUES ('Alice'), ('Bob');\nSELECT * FROM users;\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Output:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:" id | name  \n----+-------\n  1 | Alice\n  2 | Bob\n"})}),"\n",(0,a.jsx)(n.p,{children:"Perfect. Exit psql:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"\\q\n"})}),"\n",(0,a.jsx)(n.p,{children:"Now remove the container:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker rm -f my-db\n"})}),"\n",(0,a.jsx)(n.p,{children:"Start PostgreSQL again:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d --name my-db -e POSTGRES_PASSWORD=secret postgres\n"})}),"\n",(0,a.jsx)(n.p,{children:"Check your data:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'docker exec -it my-db psql -U postgres -c "SELECT * FROM users;"\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Output:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'ERROR:  relation "users" does not exist\n'})}),"\n",(0,a.jsx)(n.p,{children:"Your data is gone."}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Why this happens:"})," Each container has its own filesystem. When you remove a container, that filesystem disappears."]}),"\n",(0,a.jsx)(n.mermaid,{value:"graph TB\n    A[Container Created] --\x3e B[Write Data to Container]\n    B --\x3e C[Data Stored in Container Filesystem]\n    C --\x3e D[Container Removed]\n    D --\x3e E[Filesystem Deleted]\n    E --\x3e F[Data Lost]\n    \n    style E fill:#ff6b6b\n    style F fill:#ff6b6b"}),"\n",(0,a.jsx)(n.p,{children:"This is by design. Containers are meant to be disposable."}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Mental Note:"})," Container filesystems are temporary. Anything written inside a container dies with the container."]}),"\n",(0,a.jsx)(n.h2,{id:"understanding-container-storage",children:"Understanding Container Storage"}),"\n",(0,a.jsx)(n.p,{children:"When you run a container, Docker creates a read-write layer on top of the image:"}),"\n",(0,a.jsx)(n.mermaid,{value:"graph TB\n    A[Image Layer 1: Base OS<br/>Read-Only] --\x3e B[Image Layer 2: Postgres Install<br/>Read-Only]\n    B --\x3e C[Image Layer 3: Config<br/>Read-Only]\n    C --\x3e D[Container Layer<br/>Read-Write<br/>Your Data Lives Here]\n    \n    style D fill:#ffd93d"}),"\n",(0,a.jsx)(n.p,{children:"The container layer is temporary. When the container is removed, this layer is deleted."}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"This creates a problem:"})," Databases, uploaded files, logs - all need to persist beyond container lifetime."]}),"\n",(0,a.jsx)(n.h2,{id:"solution-1-docker-volumes",children:"Solution 1: Docker Volumes"}),"\n",(0,a.jsx)(n.p,{children:"Volumes are Docker's answer to persistent storage."}),"\n",(0,a.jsx)(n.h3,{id:"creating-a-volume",children:"Creating a Volume"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker volume create postgres-data\n"})}),"\n",(0,a.jsx)(n.p,{children:"List volumes:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker volume ls\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Output:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"DRIVER    VOLUME NAME\nlocal     postgres-data\n"})}),"\n",(0,a.jsx)(n.p,{children:"Inspect the volume:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker volume inspect postgres-data\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Output:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'[\n    {\n        "CreatedAt": "2024-01-15T10:45:23Z",\n        "Driver": "local",\n        "Labels": null,\n        "Mountpoint": "/var/lib/docker/volumes/postgres-data/_data",\n        "Name": "postgres-data",\n        "Options": null,\n        "Scope": "local"\n    }\n]\n'})}),"\n",(0,a.jsxs)(n.p,{children:["The volume exists on your host at ",(0,a.jsx)(n.code,{children:"/var/lib/docker/volumes/postgres-data/_data"}),". Docker manages it."]}),"\n",(0,a.jsx)(n.h3,{id:"using-a-volume",children:"Using a Volume"}),"\n",(0,a.jsx)(n.p,{children:"Run PostgreSQL with the volume:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d --name my-db \\\n  -e POSTGRES_PASSWORD=secret \\\n  -v postgres-data:/var/lib/postgresql/data \\\n  postgres\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsxs)(n.strong,{children:["What ",(0,a.jsx)(n.code,{children:"-v postgres-data:/var/lib/postgresql/data"})," means:"]})}),"\n",(0,a.jsx)(n.mermaid,{value:"graph LR\n    A[Volume: postgres-data<br/>Host Storage] <--\x3e|Mounted At| B[Container Path<br/>/var/lib/postgresql/data]\n    \n    style A fill:#e8f4f8\n    style B fill:#a8dadc"}),"\n",(0,a.jsxs)(n.p,{children:["Format: ",(0,a.jsx)(n.code,{children:"-v VOLUME_NAME:CONTAINER_PATH"})]}),"\n",(0,a.jsxs)(n.p,{children:["PostgreSQL stores its data at ",(0,a.jsx)(n.code,{children:"/var/lib/postgresql/data"}),". By mounting a volume there, data goes to the volume instead of the container's temporary filesystem."]}),"\n",(0,a.jsx)(n.p,{children:"Create some data:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker exec -it my-db psql -U postgres\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"CREATE DATABASE myapp;\n\\c myapp\nCREATE TABLE users (id SERIAL, name TEXT);\nINSERT INTO users (name) VALUES ('Alice'), ('Bob');\n\\q\n"})}),"\n",(0,a.jsx)(n.p,{children:"Remove the container:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker rm -f my-db\n"})}),"\n",(0,a.jsx)(n.p,{children:"Start a new container with the same volume:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d --name my-db-new \\\n  -e POSTGRES_PASSWORD=secret \\\n  -v postgres-data:/var/lib/postgresql/data \\\n  postgres\n"})}),"\n",(0,a.jsx)(n.p,{children:"Check the data:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'docker exec -it my-db-new psql -U postgres -c "\\c myapp" -c "SELECT * FROM users;"\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Output:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'You are now connected to database "myapp" as user "postgres".\n id | name  \n----+-------\n  1 | Alice\n  2 | Bob\n'})}),"\n",(0,a.jsx)(n.p,{children:"Your data persisted!"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Mental Note:"})," Volumes live outside containers. Multiple containers can use the same volume. Data survives container removal."]}),"\n",(0,a.jsx)(n.h2,{id:"solution-2-bind-mounts",children:"Solution 2: Bind Mounts"}),"\n",(0,a.jsx)(n.p,{children:"Bind mounts link a directory on your host directly into a container."}),"\n",(0,a.jsx)(n.p,{children:"Create a directory:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"mkdir -p ~/my-postgres-data\n"})}),"\n",(0,a.jsx)(n.p,{children:"Run PostgreSQL with a bind mount:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d --name my-db-bind \\\n  -e POSTGRES_PASSWORD=secret \\\n  -v ~/my-postgres-data:/var/lib/postgresql/data \\\n  postgres\n"})}),"\n",(0,a.jsx)(n.p,{children:"Same format, but you're using a host path instead of a volume name."}),"\n",(0,a.jsx)(n.p,{children:"Check what's in the directory:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ls ~/my-postgres-data\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Output:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"base  global  pg_commit_ts  pg_dynshmem  pg_hba.conf  pg_ident.conf  \npg_logical  pg_multixact  pg_notify  pg_replslot  pg_serial  \npg_snapshots  pg_stat  pg_stat_tmp  pg_subtrans  pg_tblspc  \npg_twophase  PG_VERSION  pg_wal  pg_xact  postgresql.auto.conf  postgresql.conf\n"})}),"\n",(0,a.jsx)(n.p,{children:"PostgreSQL's data files are directly on your host filesystem."}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Mental Note:"})," Bind mounts give you direct access to files. Volumes are managed by Docker. Both persist data, but bind mounts let you see and edit files easily."]}),"\n",(0,a.jsx)(n.h2,{id:"volumes-vs-bind-mounts",children:"Volumes vs Bind Mounts"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Aspect"}),(0,a.jsx)(n.th,{children:"Volumes"}),(0,a.jsx)(n.th,{children:"Bind Mounts"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Managed by"}),(0,a.jsx)(n.td,{children:"Docker"}),(0,a.jsx)(n.td,{children:"You"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Location"}),(0,a.jsx)(n.td,{children:"Docker's storage area"}),(0,a.jsx)(n.td,{children:"Anywhere on host"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Portability"}),(0,a.jsx)(n.td,{children:"Works across systems"}),(0,a.jsx)(n.td,{children:"Requires same path"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Performance"}),(0,a.jsx)(n.td,{children:"Optimized"}),(0,a.jsx)(n.td,{children:"Depends on host FS"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Use case"}),(0,a.jsx)(n.td,{children:"Production databases"}),(0,a.jsx)(n.td,{children:"Development, configs"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"When to use volumes:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Production databases"}),"\n",(0,a.jsx)(n.li,{children:"Data that should be managed by Docker"}),"\n",(0,a.jsx)(n.li,{children:"Sharing data between containers"}),"\n",(0,a.jsx)(n.li,{children:"Backup and migration"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"When to use bind mounts:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Development (live code reloading)"}),"\n",(0,a.jsx)(n.li,{children:"Configuration files you need to edit"}),"\n",(0,a.jsx)(n.li,{children:"Logs you want to inspect"}),"\n",(0,a.jsx)(n.li,{children:"Anything you need direct access to"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"real-example-development-workflow",children:"Real Example: Development Workflow"}),"\n",(0,a.jsx)(n.p,{children:"You're building a Node.js app. During development, you want code changes to reflect immediately."}),"\n",(0,a.jsx)(n.p,{children:"Project structure:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"my-app/\n  \u251c\u2500\u2500 package.json\n  \u251c\u2500\u2500 server.js\n  \u2514\u2500\u2500 Dockerfile\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"server.js:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"const express = require('express');\nconst app = express();\n\napp.get('/', (req, res) => {\n  res.send('Hello World v1');\n});\n\napp.listen(3000, () => console.log('Server running'));\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Dockerfile:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-dockerfile",children:'FROM node:18\nWORKDIR /app\nCOPY package*.json ./\nRUN npm install\nCOPY . .\nCMD ["node", "server.js"]\n'})}),"\n",(0,a.jsx)(n.p,{children:"Build the image:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker build -t my-app .\n"})}),"\n",(0,a.jsx)(n.p,{children:"Run with bind mount:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d --name dev-server \\\n  -p 3000:3000 \\\n  -v $(pwd):/app \\\n  -v /app/node_modules \\\n  my-app\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"What's happening here:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"-v $(pwd):/app"}),": Mount current directory to ",(0,a.jsx)(n.code,{children:"/app"})," in container"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"-v /app/node_modules"}),": Anonymous volume to prevent overwriting node_modules"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Visit ",(0,a.jsx)(n.code,{children:"http://localhost:3000"}),' - you see "Hello World v1"']}),"\n",(0,a.jsx)(n.p,{children:"Edit server.js on your host:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"app.get('/', (req, res) => {\n  res.send('Hello World v2');\n});\n"})}),"\n",(0,a.jsx)(n.p,{children:"Restart the container:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker restart dev-server\n"})}),"\n",(0,a.jsx)(n.p,{children:'Refresh your browser - you see "Hello World v2"'}),"\n",(0,a.jsx)(n.p,{children:"No rebuild needed. Your code changes are live."}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Mental Note:"})," Bind mounts during development save time. You edit code on your host, container uses those files directly."]}),"\n",(0,a.jsx)(n.h2,{id:"anonymous-volumes",children:"Anonymous Volumes"}),"\n",(0,a.jsx)(n.p,{children:"Sometimes Docker creates volumes automatically."}),"\n",(0,a.jsx)(n.p,{children:"Look at the PostgreSQL Dockerfile (simplified):"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-dockerfile",children:'FROM debian:bookworm-slim\nRUN apt-get update && apt-get install -y postgresql\nVOLUME /var/lib/postgresql/data\nCMD ["postgres"]\n'})}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"VOLUME"}),' instruction tells Docker: "This path needs persistence."']}),"\n",(0,a.jsx)(n.p,{children:"Run PostgreSQL without specifying a volume:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d --name auto-vol postgres\n"})}),"\n",(0,a.jsx)(n.p,{children:"Check volumes:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker volume ls\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Output:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"DRIVER    VOLUME NAME\nlocal     1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7q8r9s0t1u2v3w4x5y6z7a8b9c0d1e2f3\n"})}),"\n",(0,a.jsx)(n.p,{children:"Docker created an anonymous volume automatically."}),"\n",(0,a.jsx)(n.p,{children:"Inspect the container:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker inspect auto-vol --format='{{.Mounts}}'\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Output:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"[{volume 1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7q8r9s0t1u2v3w4x5y6z7a8b9c0d1e2f3 /var/lib/docker/volumes/1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7q8r9s0t1u2v3w4x5y6z7a8b9c0d1e2f3/_data /var/lib/postgresql/data local  true }]\n"})}),"\n",(0,a.jsx)(n.p,{children:"Your data is stored, but the volume name is a random hash. Hard to manage."}),"\n",(0,a.jsx)(n.p,{children:"Remove the container:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker rm -f auto-vol\n"})}),"\n",(0,a.jsx)(n.p,{children:"The anonymous volume still exists:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker volume ls\n"})}),"\n",(0,a.jsx)(n.p,{children:"It's orphaned. This accumulates over time."}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Mental Note:"})," Always use named volumes in production. Anonymous volumes are hard to track and clean up."]}),"\n",(0,a.jsx)(n.h2,{id:"volume-management",children:"Volume Management"}),"\n",(0,a.jsx)(n.h3,{id:"listing-volumes",children:"Listing Volumes"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker volume ls\n"})}),"\n",(0,a.jsx)(n.h3,{id:"inspecting-a-volume",children:"Inspecting a Volume"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker volume inspect postgres-data\n"})}),"\n",(0,a.jsx)(n.h3,{id:"removing-a-volume",children:"Removing a Volume"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker volume rm postgres-data\n"})}),"\n",(0,a.jsx)(n.p,{children:"You can't remove a volume that's in use:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker volume rm postgres-data\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Output:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Error response from daemon: remove postgres-data: volume is in use - [3b4c5d6e7f8a]\n"})}),"\n",(0,a.jsx)(n.p,{children:"Stop and remove the container first."}),"\n",(0,a.jsx)(n.h3,{id:"cleaning-up-unused-volumes",children:"Cleaning Up Unused Volumes"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker volume prune\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Output:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"WARNING! This will remove all local volumes not used by at least one container.\nAre you sure you want to continue? [y/N] y\nDeleted Volumes:\n1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7q8r9s0t1u2v3w4x5y6z7a8b9c0d1e2f3\n8a9b0c1d2e3f4g5h6i7j8k9l0m1n2o3p4q5r6s7t8u9v0w1x2y3z4a5b6c7d8e9f0\n\nTotal reclaimed space: 2.3GB\n"})}),"\n",(0,a.jsx)(n.p,{children:"This removes all volumes not attached to any container."}),"\n",(0,a.jsx)(n.h2,{id:"sharing-volumes-between-containers",children:"Sharing Volumes Between Containers"}),"\n",(0,a.jsx)(n.p,{children:"Multiple containers can use the same volume."}),"\n",(0,a.jsx)(n.p,{children:"Create a volume:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker volume create shared-data\n"})}),"\n",(0,a.jsx)(n.p,{children:"Run a container that writes data:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run --rm -v shared-data:/data alpine sh -c \"echo 'Hello from container 1' > /data/message.txt\"\n"})}),"\n",(0,a.jsx)(n.p,{children:"Run another container that reads it:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run --rm -v shared-data:/data alpine cat /data/message.txt\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Output:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Hello from container 1\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Use case:"})," Multiple services reading the same configuration or sharing files."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Example: Nginx serving files from an app container"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# App container writes static files\ndocker run -d --name app -v shared-data:/app/public my-app\n\n# Nginx serves those files\ndocker run -d --name web -p 8080:80 -v shared-data:/usr/share/nginx/html nginx\n"})}),"\n",(0,a.jsx)(n.p,{children:"Both containers share the same volume at different mount points."}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Mental Note:"})," Volumes are not tied to a single container. They're independent resources that containers can attach to."]}),"\n",(0,a.jsx)(n.h2,{id:"volume-drivers",children:"Volume Drivers"}),"\n",(0,a.jsx)(n.p,{children:"Volumes can use different storage backends."}),"\n",(0,a.jsxs)(n.p,{children:["Default is ",(0,a.jsx)(n.code,{children:"local"})," (host filesystem). But you can use:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"NFS (network storage)"}),"\n",(0,a.jsx)(n.li,{children:"Cloud storage (AWS EBS, Azure Disk)"}),"\n",(0,a.jsx)(n.li,{children:"Distributed storage (Ceph, GlusterFS)"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Create a volume with a specific driver:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker volume create --driver local \\\n  --opt type=nfs \\\n  --opt o=addr=192.168.1.100,rw \\\n  --opt device=:/path/to/nfs \\\n  my-nfs-volume\n"})}),"\n",(0,a.jsx)(n.p,{children:"This creates a volume backed by NFS. Useful for sharing data across multiple Docker hosts."}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Most of the time, you'll use local volumes."})," Other drivers are for specific infrastructure needs."]}),"\n",(0,a.jsx)(n.h2,{id:"backup-and-restore",children:"Backup and Restore"}),"\n",(0,a.jsx)(n.h3,{id:"backing-up-a-volume",children:"Backing Up a Volume"}),"\n",(0,a.jsx)(n.p,{children:"Create a backup:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run --rm \\\n  -v postgres-data:/source \\\n  -v $(pwd):/backup \\\n  alpine tar czf /backup/postgres-backup.tar.gz -C /source .\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"What's happening:"})}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["Mount the volume at ",(0,a.jsx)(n.code,{children:"/source"})]}),"\n",(0,a.jsxs)(n.li,{children:["Mount current directory at ",(0,a.jsx)(n.code,{children:"/backup"})]}),"\n",(0,a.jsxs)(n.li,{children:["Run ",(0,a.jsx)(n.code,{children:"tar"})," to compress ",(0,a.jsx)(n.code,{children:"/source"})," contents"]}),"\n",(0,a.jsxs)(n.li,{children:["Save to ",(0,a.jsx)(n.code,{children:"/backup/postgres-backup.tar.gz"})," (your host)"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["You'll have ",(0,a.jsx)(n.code,{children:"postgres-backup.tar.gz"})," on your host."]}),"\n",(0,a.jsx)(n.h3,{id:"restoring-a-volume",children:"Restoring a Volume"}),"\n",(0,a.jsx)(n.p,{children:"Create a new volume:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker volume create postgres-restored\n"})}),"\n",(0,a.jsx)(n.p,{children:"Restore the backup:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'docker run --rm \\\n  -v postgres-restored:/target \\\n  -v $(pwd):/backup \\\n  alpine sh -c "cd /target && tar xzf /backup/postgres-backup.tar.gz"\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"What's happening:"})}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["Mount new volume at ",(0,a.jsx)(n.code,{children:"/target"})]}),"\n",(0,a.jsxs)(n.li,{children:["Mount backup directory at ",(0,a.jsx)(n.code,{children:"/backup"})]}),"\n",(0,a.jsxs)(n.li,{children:["Extract tar file into ",(0,a.jsx)(n.code,{children:"/target"})]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Use the restored volume:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d --name restored-db \\\n  -e POSTGRES_PASSWORD=secret \\\n  -v postgres-restored:/var/lib/postgresql/data \\\n  postgres\n"})}),"\n",(0,a.jsx)(n.p,{children:"Your data is restored."}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Mental Note:"})," Volumes can be backed up and restored using simple tar commands. Critical for database migrations and disaster recovery."]}),"\n",(0,a.jsx)(n.h2,{id:"read-only-volumes",children:"Read-Only Volumes"}),"\n",(0,a.jsx)(n.p,{children:"Sometimes you want to prevent a container from modifying a volume."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d --name readonly-app \\\n  -v my-config:/etc/config:ro \\\n  my-app\n"})}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:":ro"})," flag makes the volume read-only inside the container."]}),"\n",(0,a.jsx)(n.p,{children:"Try to write:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker exec readonly-app sh -c \"echo 'test' > /etc/config/test.txt\"\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Output:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"sh: can't create /etc/config/test.txt: Read-only file system\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Use case:"})," Configuration files you don't want the application to accidentally modify."]}),"\n",(0,a.jsx)(n.h2,{id:"tmpfs-mounts-temporary-storage",children:"tmpfs Mounts: Temporary Storage"}),"\n",(0,a.jsx)(n.p,{children:"Sometimes you need temporary storage that's fast and doesn't persist."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d --name fast-cache \\\n  --tmpfs /cache:rw,size=128m \\\n  my-app\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"What this does:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Mounts ",(0,a.jsx)(n.code,{children:"/cache"})," in memory (RAM)"]}),"\n",(0,a.jsx)(n.li,{children:"Limited to 128MB"}),"\n",(0,a.jsx)(n.li,{children:"Data is lost when container stops"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Use case:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Caching that doesn't need persistence"}),"\n",(0,a.jsx)(n.li,{children:"Temporary processing files"}),"\n",(0,a.jsx)(n.li,{children:"Security-sensitive data you don't want written to disk"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Mental Note:"})," tmpfs is in-memory storage. Fast but volatile. Use for temporary data only."]}),"\n",(0,a.jsx)(n.h2,{id:"practical-patterns",children:"Practical Patterns"}),"\n",(0,a.jsx)(n.h3,{id:"pattern-1-database-persistence",children:"Pattern 1: Database Persistence"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d --name db \\\n  -v db-data:/var/lib/postgresql/data \\\n  -e POSTGRES_PASSWORD=secret \\\n  postgres\n"})}),"\n",(0,a.jsx)(n.p,{children:"Always use named volumes for databases."}),"\n",(0,a.jsx)(n.h3,{id:"pattern-2-configuration-injection",children:"Pattern 2: Configuration Injection"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d --name app \\\n  -v $(pwd)/config.yml:/app/config.yml:ro \\\n  my-app\n"})}),"\n",(0,a.jsx)(n.p,{children:"Bind mount configuration as read-only."}),"\n",(0,a.jsx)(n.h3,{id:"pattern-3-log-collection",children:"Pattern 3: Log Collection"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d --name app \\\n  -v $(pwd)/logs:/var/log/app \\\n  my-app\n"})}),"\n",(0,a.jsx)(n.p,{children:"Bind mount logs to host for easy access."}),"\n",(0,a.jsx)(n.h3,{id:"pattern-4-development-environment",children:"Pattern 4: Development Environment"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d --name dev \\\n  -v $(pwd):/app \\\n  -v /app/node_modules \\\n  -p 3000:3000 \\\n  my-dev-image\n"})}),"\n",(0,a.jsx)(n.p,{children:"Bind mount code, but use anonymous volume for dependencies."}),"\n",(0,a.jsx)(n.h2,{id:"common-mistakes",children:"Common Mistakes"}),"\n",(0,a.jsx)(n.h3,{id:"mistake-1-not-using-volumes-for-databases",children:"Mistake 1: Not Using Volumes for Databases"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Bad: Data will be lost\ndocker run -d --name db postgres\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Good: Data persists\ndocker run -d --name db -v db-data:/var/lib/postgresql/data postgres\n"})}),"\n",(0,a.jsx)(n.h3,{id:"mistake-2-using-absolute-paths-in-bind-mounts",children:"Mistake 2: Using Absolute Paths in Bind Mounts"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Bad: Only works on your machine\ndocker run -v /Users/john/code:/app my-app\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Good: Works anywhere\ndocker run -v $(pwd):/app my-app\n"})}),"\n",(0,a.jsx)(n.h3,{id:"mistake-3-forgetting-to-clean-up-volumes",children:"Mistake 3: Forgetting to Clean Up Volumes"}),"\n",(0,a.jsx)(n.p,{children:"Orphaned volumes accumulate. Run periodically:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker volume prune\n"})}),"\n",(0,a.jsx)(n.h3,{id:"mistake-4-overwriting-dependencies",children:"Mistake 4: Overwriting Dependencies"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Bad: Overwrites node_modules in container\ndocker run -v $(pwd):/app my-app\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Good: Preserves node_modules\ndocker run -v $(pwd):/app -v /app/node_modules my-app\n"})}),"\n",(0,a.jsx)(n.h2,{id:"debugging-volume-issues",children:"Debugging Volume Issues"}),"\n",(0,a.jsx)(n.h3,{id:"check-whats-mounted",children:"Check What's Mounted"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker inspect my-container --format='{{json .Mounts}}' | jq\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Output:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "Type": "volume",\n    "Name": "postgres-data",\n    "Source": "/var/lib/docker/volumes/postgres-data/_data",\n    "Destination": "/var/lib/postgresql/data",\n    "Driver": "local",\n    "Mode": "z",\n    "RW": true,\n    "Propagation": ""\n  }\n]\n'})}),"\n",(0,a.jsx)(n.p,{children:"Shows all mounts, their types, and paths."}),"\n",(0,a.jsx)(n.h3,{id:"check-volume-contents",children:"Check Volume Contents"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run --rm -v postgres-data:/data alpine ls -lah /data\n"})}),"\n",(0,a.jsx)(n.p,{children:"Lists files in the volume."}),"\n",(0,a.jsx)(n.h3,{id:"check-permissions",children:"Check Permissions"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run --rm -v postgres-data:/data alpine ls -ld /data\n"})}),"\n",(0,a.jsx)(n.p,{children:"Shows directory permissions."}),"\n",(0,a.jsx)(n.h2,{id:"volume-performance-considerations",children:"Volume Performance Considerations"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Volumes:"})," Optimized by Docker. Generally fast."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Bind mounts on Mac/Windows:"})," Slower due to filesystem translation between host and Docker VM. Can be significantly slower for many small files."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Bind mounts on Linux:"})," Native performance. No overhead."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Workaround for Mac/Windows:"}),"\nUse volumes for data, bind mounts only for code you're actively editing."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d \\\n  -v $(pwd)/src:/app/src \\        # Only source code (smaller, fewer files)\n  -v node_modules:/app/node_modules \\  # Dependencies in volume (faster)\n  my-app\n"})}),"\n",(0,a.jsx)(n.h2,{id:"mental-notes",children:"Mental Notes"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Containers are disposable:"})," Anything inside the container filesystem is temporary."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Volumes outlive containers:"})," They're separate resources. Create them, name them, manage them."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Bind mounts are for development:"})," Direct access to files. Volumes are for production."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Always name your volumes:"})," Anonymous volumes are hard to track and clean up."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Multiple containers, one volume:"})," Volumes aren't locked to a single container. Share data across services."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Read-only when possible:"})," Prevents accidental modifications. Use ",(0,a.jsx)(n.code,{children:":ro"})," flag."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Backup your volumes:"})," They're just directories. Use tar or your backup tool of choice."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Clean up regularly:"})," ",(0,a.jsx)(n.code,{children:"docker volume prune"})," removes unused volumes. Do it periodically."]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"The core insight:"})," Containers are ephemeral by design. They should be disposable. Volumes are how you preserve state across container lifetimes. Master volumes, master Docker data management."]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453(e,n,s){s.d(n,{R:()=>o,x:()=>i});var r=s(6540);const a={},l=r.createContext(a);function o(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);