"use strict";(globalThis.webpackChunkeigenbytes=globalThis.webpackChunkeigenbytes||[]).push([[5075],{4943(e,n,s){s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>c,default:()=>a,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"devops/Linux/linux-filesystem","title":"Linux File system","description":"How John Learns Why Everything Lives Where It Does","source":"@site/docs/engineering/devops/02-Linux/linux-filesystem.md","sourceDirName":"devops/02-Linux","slug":"/devops/Linux/linux-filesystem","permalink":"/engineering/devops/Linux/linux-filesystem","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"devops","permalink":"/engineering/tags/devops"}],"version":"current","frontMatter":{"layout":"post","title":"Linux File system","subtitle":"Linux File system Guide","categories":["devops"],"tags":["devops"],"topic":"linux"},"sidebar":"sidebar","previous":{"title":"Functional use cases","permalink":"/engineering/devops/Linux/linux-commands"},"next":{"title":"Process, Signals and Ports","permalink":"/engineering/devops/Linux/linux-process-signal-ports"}}');var l=s(4848),r=s(8453);const o={layout:"post",title:"Linux File system",subtitle:"Linux File system Guide",categories:["devops"],tags:["devops"],topic:"linux"},c="Linux Filesystem Layout",h={},d=[{value:"How John Learns Why Everything Lives Where It Does",id:"how-john-learns-why-everything-lives-where-it-does",level:2},{value:"John explores the root of the filesystem",id:"john-explores-the-root-of-the-filesystem",level:2},{value:"<code>/home</code>: where humans live",id:"home-where-humans-live",level:2},{value:"<code>/root</code>: why John was denied earlier",id:"root-why-john-was-denied-earlier",level:2},{value:"<code>/bin</code> and <code>/sbin</code>: basic commands live here",id:"bin-and-sbin-basic-commands-live-here",level:2},{value:"<code>/etc</code>: configuration lives here (and only here)",id:"etc-configuration-lives-here-and-only-here",level:2},{value:"<code>/var</code>: data that changes while the system runs",id:"var-data-that-changes-while-the-system-runs",level:2},{value:"<code>/tmp</code>: temporary means temporary",id:"tmp-temporary-means-temporary",level:2},{value:"<code>/opt</code>: where applications belong",id:"opt-where-applications-belong",level:2},{value:"<code>/usr</code>: OS-installed software",id:"usr-os-installed-software",level:2},{value:"Why this layout matters in real systems",id:"why-this-layout-matters-in-real-systems",level:2},{value:"John\u2019s final mental model",id:"johns-final-mental-model",level:2},{value:"Final takeaway",id:"final-takeaway",level:2}];function t(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"linux-filesystem-layout",children:"Linux Filesystem Layout"})}),"\n",(0,l.jsx)(n.h2,{id:"how-john-learns-why-everything-lives-where-it-does",children:"How John Learns Why Everything Lives Where It Does"}),"\n",(0,l.jsx)(n.p,{children:"John is now comfortable logging into Linux. He can run commands, edit files, and start services.\nBut one question keeps coming up:"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u201cWhere should things actually go?\u201d"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Linux does not place files randomly. The filesystem layout exists to solve real operational problems."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"john-explores-the-root-of-the-filesystem",children:"John explores the root of the filesystem"}),"\n",(0,l.jsx)(n.p,{children:"John starts at the top:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"ls /\n"})}),"\n",(0,l.jsxs)(n.p,{children:["He sees directories like ",(0,l.jsx)(n.code,{children:"/bin"}),", ",(0,l.jsx)(n.code,{children:"/etc"}),", ",(0,l.jsx)(n.code,{children:"/var"}),", ",(0,l.jsx)(n.code,{children:"/opt"}),", ",(0,l.jsx)(n.code,{children:"/home"}),", ",(0,l.jsx)(n.code,{children:"/tmp"}),"."]}),"\n",(0,l.jsx)(n.p,{children:"At first, this looks arbitrary. It is not."}),"\n",(0,l.jsx)(n.p,{children:"Linux follows a standard layout so that:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"admins know where to look"}),"\n",(0,l.jsx)(n.li,{children:"tools know where to read from"}),"\n",(0,l.jsx)(n.li,{children:"automation behaves consistently across systems"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.h2,{id:"home-where-humans-live",children:[(0,l.jsx)(n.code,{children:"/home"}),": where humans live"]}),"\n",(0,l.jsx)(n.p,{children:"John checks:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"ls /home\n"})}),"\n",(0,l.jsx)(n.p,{children:"He sees his own directory:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"/home/john\n"})}),"\n",(0,l.jsx)(n.p,{children:"This directory exists because:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"each user needs a private workspace"}),"\n",(0,l.jsx)(n.li,{children:"permissions isolate users from each other"}),"\n",(0,l.jsx)(n.li,{children:"backups can target user data easily"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"John creates a file:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"touch /home/john/test.txt\n"})}),"\n",(0,l.jsx)(n.p,{children:"Linux allows this because John owns his home directory."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.h2,{id:"root-why-john-was-denied-earlier",children:[(0,l.jsx)(n.code,{children:"/root"}),": why John was denied earlier"]}),"\n",(0,l.jsx)(n.p,{children:"Earlier, John tried:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"ls /root\n"})}),"\n",(0,l.jsx)(n.p,{children:"and got \u201cpermission denied\u201d."}),"\n",(0,l.jsx)(n.p,{children:"Now it makes sense."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"/root"})," is:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["the home directory of the ",(0,l.jsx)(n.code,{children:"root"})," user"]}),"\n",(0,l.jsxs)(n.li,{children:["intentionally separate from ",(0,l.jsx)(n.code,{children:"/home"})]}),"\n",(0,l.jsx)(n.li,{children:"protected from regular users"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Root is a user, not magic. It just has a different home."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.h2,{id:"bin-and-sbin-basic-commands-live-here",children:[(0,l.jsx)(n.code,{children:"/bin"})," and ",(0,l.jsx)(n.code,{children:"/sbin"}),": basic commands live here"]}),"\n",(0,l.jsxs)(n.p,{children:["John wonders where commands like ",(0,l.jsx)(n.code,{children:"ls"})," actually come from."]}),"\n",(0,l.jsx)(n.p,{children:"He checks:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"which ls\n"})}),"\n",(0,l.jsx)(n.p,{children:"Output:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"/bin/ls\n"})}),"\n",(0,l.jsx)(n.p,{children:"This tells him:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/bin"})," contains essential user commands"]}),"\n",(0,l.jsx)(n.li,{children:"these commands must be available even in recovery mode"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Similarly:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"which ip\n"})}),"\n",(0,l.jsx)(n.p,{children:"might point to:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"/sbin/ip\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"/sbin"})," contains system-level commands meant for administrators."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.h2,{id:"etc-configuration-lives-here-and-only-here",children:[(0,l.jsx)(n.code,{children:"/etc"}),": configuration lives here (and only here)"]}),"\n",(0,l.jsxs)(n.p,{children:["John edits a service file earlier in ",(0,l.jsx)(n.code,{children:"/etc/systemd/system"}),".\nNow he understands why."]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"/etc"})," exists for ",(0,l.jsx)(n.strong,{children:"configuration only"}),"."]}),"\n",(0,l.jsx)(n.p,{children:"John lists it:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"ls /etc\n"})}),"\n",(0,l.jsx)(n.p,{children:"He sees:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"service configs"}),"\n",(0,l.jsx)(n.li,{children:"user configs"}),"\n",(0,l.jsx)(n.li,{children:"network configs"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Important rule:"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:["Executables do not live in ",(0,l.jsx)(n.code,{children:"/etc"}),".\nData does not live in ",(0,l.jsx)(n.code,{children:"/etc"}),".\nOnly configuration."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"This separation allows:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"safe upgrades"}),"\n",(0,l.jsx)(n.li,{children:"easy backups"}),"\n",(0,l.jsx)(n.li,{children:"predictable automation"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.h2,{id:"var-data-that-changes-while-the-system-runs",children:[(0,l.jsx)(n.code,{children:"/var"}),": data that changes while the system runs"]}),"\n",(0,l.jsxs)(n.p,{children:["John notices logs are not in ",(0,l.jsx)(n.code,{children:"/etc"}),"."]}),"\n",(0,l.jsx)(n.p,{children:"He checks:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"ls /var\n"})}),"\n",(0,l.jsx)(n.p,{children:"He sees directories like:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"/var/log"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"/var/lib"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"/var/tmp"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"He opens logs:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"ls /var/log\n"})}),"\n",(0,l.jsx)(n.p,{children:"This explains why:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"logs grow over time"}),"\n",(0,l.jsxs)(n.li,{children:["disk-full issues often come from ",(0,l.jsx)(n.code,{children:"/var"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/var"})," is monitored closely in production"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Applications write changing data here, not in ",(0,l.jsx)(n.code,{children:"/etc"}),"."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.h2,{id:"tmp-temporary-means-temporary",children:[(0,l.jsx)(n.code,{children:"/tmp"}),": temporary means temporary"]}),"\n",(0,l.jsx)(n.p,{children:"John creates a file:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"touch /tmp/test.tmp\n"})}),"\n",(0,l.jsx)(n.p,{children:"It works.\nBut after a reboot, the file is gone."}),"\n",(0,l.jsx)(n.p,{children:"This teaches an important rule:"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"/tmp"})," is for short-lived files only."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"System cleanups and reboots can wipe it at any time."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.h2,{id:"opt-where-applications-belong",children:[(0,l.jsx)(n.code,{children:"/opt"}),": where applications belong"]}),"\n",(0,l.jsxs)(n.p,{children:["John earlier placed his app in ",(0,l.jsx)(n.code,{children:"/opt/my_app"}),"."]}),"\n",(0,l.jsx)(n.p,{children:"Now he understands why."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"/opt"})," exists for:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"optional software"}),"\n",(0,l.jsx)(n.li,{children:"third-party applications"}),"\n",(0,l.jsx)(n.li,{children:"custom deployments"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"This keeps applications separate from:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["OS binaries (",(0,l.jsx)(n.code,{children:"/bin"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["configs (",(0,l.jsx)(n.code,{children:"/etc"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["logs (",(0,l.jsx)(n.code,{children:"/var/log"}),")"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"In production systems, this separation prevents accidental overwrites during OS upgrades."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.h2,{id:"usr-os-installed-software",children:[(0,l.jsx)(n.code,{children:"/usr"}),": OS-installed software"]}),"\n",(0,l.jsx)(n.p,{children:"John installs a package:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"yum install python3\n"})}),"\n",(0,l.jsx)(n.p,{children:"He checks:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"which python3\n"})}),"\n",(0,l.jsx)(n.p,{children:"Output:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"/usr/bin/python3\n"})}),"\n",(0,l.jsx)(n.p,{children:"This tells him:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/usr"})," holds OS-managed software"]}),"\n",(0,l.jsx)(n.li,{children:"package managers control this space"}),"\n",(0,l.jsx)(n.li,{children:"admins should not manually edit files here"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"why-this-layout-matters-in-real-systems",children:"Why this layout matters in real systems"}),"\n",(0,l.jsx)(n.p,{children:"Later, John joins a production incident call."}),"\n",(0,l.jsx)(n.p,{children:"The service is down."}),"\n",(0,l.jsx)(n.p,{children:"The team asks:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u201cCheck logs\u201d \u2192 ",(0,l.jsx)(n.code,{children:"/var/log"})]}),"\n",(0,l.jsxs)(n.li,{children:["\u201cCheck config\u201d \u2192 ",(0,l.jsx)(n.code,{children:"/etc"})]}),"\n",(0,l.jsxs)(n.li,{children:["\u201cCheck app binaries\u201d \u2192 ",(0,l.jsx)(n.code,{children:"/opt"})]}),"\n",(0,l.jsxs)(n.li,{children:["\u201cCheck user scripts\u201d \u2192 ",(0,l.jsx)(n.code,{children:"/home"})]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"No guessing. Everyone knows where to look."}),"\n",(0,l.jsx)(n.p,{children:"That is the real value of the filesystem layout."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"johns-final-mental-model",children:"John\u2019s final mental model"}),"\n",(0,l.jsx)(n.p,{children:"John now thinks about Linux like this:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/home"})," \u2192 humans"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/root"})," \u2192 superuser"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/bin"}),", ",(0,l.jsx)(n.code,{children:"/sbin"})," \u2192 core commands"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/etc"})," \u2192 configuration"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/var"})," \u2192 changing data"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/opt"})," \u2192 applications"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/tmp"})," \u2192 temporary files"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/usr"})," \u2192 OS-managed software"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Linux did not choose this structure randomly.\nIt chose it so ",(0,l.jsx)(n.strong,{children:"humans and automation could work together without confusion"}),"."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"final-takeaway",children:"Final takeaway"}),"\n",(0,l.jsxs)(n.p,{children:["Understanding the Linux filesystem is not about memorizing directories.\nIt is about knowing ",(0,l.jsx)(n.strong,{children:"where responsibility lives"}),"."]}),"\n",(0,l.jsx)(n.p,{children:"Once John understands this, production systems stop feeling chaotic and start feeling organized."})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(t,{...e})}):t(e)}},8453(e,n,s){s.d(n,{R:()=>o,x:()=>c});var i=s(6540);const l={},r=i.createContext(l);function o(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);